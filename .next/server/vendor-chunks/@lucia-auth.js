"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@lucia-auth";
exports.ids = ["vendor-chunks/@lucia-auth"];
exports.modules = {

/***/ "(rsc)/./node_modules/@lucia-auth/adapter-prisma/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@lucia-auth/adapter-prisma/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaAdapter: () => (/* binding */ PrismaAdapter)\n/* harmony export */ });\nclass PrismaAdapter {\n    sessionModel;\n    userModel;\n    constructor(sessionModel, userModel) {\n        this.sessionModel = sessionModel;\n        this.userModel = userModel;\n    }\n    async deleteSession(sessionId) {\n        try {\n            await this.sessionModel.delete({\n                where: {\n                    id: sessionId\n                }\n            });\n        }\n        catch {\n            // ignore if session id is invalid\n        }\n    }\n    async deleteUserSessions(userId) {\n        await this.sessionModel.deleteMany({\n            where: {\n                userId\n            }\n        });\n    }\n    async getSessionAndUser(sessionId) {\n        const userModelKey = this.userModel.name[0].toLowerCase() + this.userModel.name.slice(1);\n        const result = await this.sessionModel.findUnique({\n            where: {\n                id: sessionId\n            },\n            include: {\n                [userModelKey]: true\n            }\n        });\n        if (!result)\n            return [null, null];\n        const userResult = result[userModelKey];\n        delete result[userModelKey];\n        return [transformIntoDatabaseSession(result), transformIntoDatabaseUser(userResult)];\n    }\n    async getUserSessions(userId) {\n        const result = await this.sessionModel.findMany({\n            where: {\n                userId\n            }\n        });\n        return result.map(transformIntoDatabaseSession);\n    }\n    async setSession(value) {\n        await this.sessionModel.create({\n            data: {\n                id: value.id,\n                userId: value.userId,\n                expiresAt: value.expiresAt,\n                ...value.attributes\n            }\n        });\n    }\n    async updateSessionExpiration(sessionId, expiresAt) {\n        await this.sessionModel.update({\n            where: {\n                id: sessionId\n            },\n            data: {\n                expiresAt\n            }\n        });\n    }\n    async deleteExpiredSessions() {\n        await this.sessionModel.deleteMany({\n            where: {\n                expiresAt: {\n                    lte: new Date()\n                }\n            }\n        });\n    }\n}\nfunction transformIntoDatabaseSession(raw) {\n    const { id, userId, expiresAt, ...attributes } = raw;\n    return {\n        id,\n        userId,\n        expiresAt,\n        attributes\n    };\n}\nfunction transformIntoDatabaseUser(raw) {\n    const { id, ...attributes } = raw;\n    return {\n        id,\n        attributes\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGx1Y2lhLWF1dGgvYWRhcHRlci1wcmlzbWEvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYWNrYWdlLmpzb24vLi9ub2RlX21vZHVsZXMvQGx1Y2lhLWF1dGgvYWRhcHRlci1wcmlzbWEvZGlzdC9pbmRleC5qcz8wNDY5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQcmlzbWFBZGFwdGVyIHtcbiAgICBzZXNzaW9uTW9kZWw7XG4gICAgdXNlck1vZGVsO1xuICAgIGNvbnN0cnVjdG9yKHNlc3Npb25Nb2RlbCwgdXNlck1vZGVsKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbk1vZGVsID0gc2Vzc2lvbk1vZGVsO1xuICAgICAgICB0aGlzLnVzZXJNb2RlbCA9IHVzZXJNb2RlbDtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlU2Vzc2lvbihzZXNzaW9uSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHNlc3Npb25JZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBpZiBzZXNzaW9uIGlkIGlzIGludmFsaWRcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBkZWxldGVVc2VyU2Vzc2lvbnModXNlcklkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLmRlbGV0ZU1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICB1c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldFNlc3Npb25BbmRVc2VyKHNlc3Npb25JZCkge1xuICAgICAgICBjb25zdCB1c2VyTW9kZWxLZXkgPSB0aGlzLnVzZXJNb2RlbC5uYW1lWzBdLnRvTG93ZXJDYXNlKCkgKyB0aGlzLnVzZXJNb2RlbC5uYW1lLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlc3Npb25Nb2RlbC5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHNlc3Npb25JZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICBbdXNlck1vZGVsS2V5XTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICBjb25zdCB1c2VyUmVzdWx0ID0gcmVzdWx0W3VzZXJNb2RlbEtleV07XG4gICAgICAgIGRlbGV0ZSByZXN1bHRbdXNlck1vZGVsS2V5XTtcbiAgICAgICAgcmV0dXJuIFt0cmFuc2Zvcm1JbnRvRGF0YWJhc2VTZXNzaW9uKHJlc3VsdCksIHRyYW5zZm9ybUludG9EYXRhYmFzZVVzZXIodXNlclJlc3VsdCldO1xuICAgIH1cbiAgICBhc3luYyBnZXRVc2VyU2Vzc2lvbnModXNlcklkKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCh0cmFuc2Zvcm1JbnRvRGF0YWJhc2VTZXNzaW9uKTtcbiAgICB9XG4gICAgYXN5bmMgc2V0U2Vzc2lvbih2YWx1ZSkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25Nb2RlbC5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiB2YWx1ZS5pZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHZhbHVlLnVzZXJJZCxcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IHZhbHVlLmV4cGlyZXNBdCxcbiAgICAgICAgICAgICAgICAuLi52YWx1ZS5hdHRyaWJ1dGVzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVTZXNzaW9uRXhwaXJhdGlvbihzZXNzaW9uSWQsIGV4cGlyZXNBdCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25Nb2RlbC51cGRhdGUoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbklkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGV4cGlyZXNBdFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRXhwaXJlZFNlc3Npb25zKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25Nb2RlbC5kZWxldGVNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0OiB7XG4gICAgICAgICAgICAgICAgICAgIGx0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNmb3JtSW50b0RhdGFiYXNlU2Vzc2lvbihyYXcpIHtcbiAgICBjb25zdCB7IGlkLCB1c2VySWQsIGV4cGlyZXNBdCwgLi4uYXR0cmlidXRlcyB9ID0gcmF3O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGV4cGlyZXNBdCxcbiAgICAgICAgYXR0cmlidXRlc1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1JbnRvRGF0YWJhc2VVc2VyKHJhdykge1xuICAgIGNvbnN0IHsgaWQsIC4uLmF0dHJpYnV0ZXMgfSA9IHJhdztcbiAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAgYXR0cmlidXRlc1xuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@lucia-auth/adapter-prisma/dist/index.js\n");

/***/ })

};
;